ko.hamhock=function(c){var b,d,a;c=$.extend({root:{},isInitiallyDirty:false,saveMethod:undefined},c);b=ko.observable(ko.toJSON(c.root));d=ko.observable(c.isInitiallyDirty);a=function(){};a.isDirty=ko.computed(function(){return d()||(b()!==ko.toJSON(c.root))});a.reset=function(){b(ko.toJSON(c.root));d(false)};ko.computed(function(){if(c.saveMethod&&typeof(c.saveMethod)==="function"&&a.isDirty()){if(c.saveMethod()!==false){a.reset()}}});c.root.hamhock=a};